<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Camiseta Negra</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body id="top">
  <header class="main-header">
    <button class="menu-toggle" onclick="toggleMenu()">â˜°</button>
    <a href="index.html" class="title center-title">GÃ‰NESIS</a>
  </header>

  <nav id="navMenu" class="nav-menu">
    <div class="nav-menu-content">
      <button class="nav-menu-close">â€¹</button>
      <a href="#" class="submenu-link">Colecciones</a>
      <a href="index.html#sobre-nosotros" onclick="toggleMenu()">Sobre Nosotros</a>
      <a href="index.html#contacto" onclick="toggleMenu()">Contacto</a>
    </div>
  </nav>

  <div class="submenu">
    <button class="nav-menu-close">â€¹</button>
    <a href="productos.html" onclick="toggleMenu()">El Origen de Todo</a>
  </div>

  <section class="product-detail">
    <div class="slider">
      <button class="arrow left" onclick="changeSlide(-1)">&#8249;</button>
      <img src="img/frente-negra.jpg" alt="Camiseta Negra Frente" class="active">
      <img src="img/espalda-negra.jpg" alt="Camiseta Negra Espalda">
      <button class="arrow right" onclick="changeSlide(1)">&#8250;</button>
    </div>
    <div class="product-options">
      <h1 style="font-family: 'Old Standard TT', serif; font-size: 2rem; font-weight: bold; color: var(--gold); margin-bottom: 1rem;">
        Camiseta oversized, El Origen De Todo, Negra, Genesis
      </h1>
      <label for="size">Talla:</label>
      <div class="size-selector">
        <div class="size-option" data-key="negro-S">S</div>
        <div class="size-option" data-key="negro-M">M</div>
        <div class="size-option" data-key="negro-L">L</div>
      </div>
      <p id="size-guide" onclick="openSizeGuide()">GuÃ­a de Tallas</p>
      <div id="sizeGuideModal" class="modal" onclick="closeSizeGuide()">
        <div class="modal-content" onclick="event.stopPropagation()">
          <img src="img/guia-tallas.jpg" alt="GuÃ­a de Tallas">
          <button class="modal-close" onclick="closeSizeGuide()">Ã—</button>
        </div>
      </div>

      <label for="quantity">Cantidad:</label>
      <div class="quantity-selector">
        <button onclick="changeQuantity(-1)">-</button>
        <span id="quantity">1</span>
        <button onclick="changeQuantity(1)">+</button>
      </div>
      <p style="font-family: 'Old Standard TT', serif; font-size: 1.2rem; color: var(--black); margin-top: 0.5rem;">Precio: $90,000 COP</p>
      <button onclick="makeOrder()">Hacer Pedido</button>
    </div>
  </section>

  <footer>
    <div style="background-color: #f9f9f9; padding: 1rem; text-align: center; font-size: 0.9rem; color: var(--gray);">
      Â© 2025 GÃ‰NESIS. Todos los derechos reservados.
    </div>
  </footer>

  <script>
    let selectedSize = null;
    let quantity = 1;
    let currentSlide = 0;

    // Stock data dynamically fetched from the inventory
    const stock = {
      "negro-S": 5,
      "negro-M": 4,
      "negro-L": 10
    };

    function selectSize(size) {
      selectedSize = size;
      document.querySelectorAll('.size-option').forEach(option => option.classList.remove('selected'));
      document.querySelectorAll('.size-option').forEach(option => {
        if (option.textContent === size) option.classList.add('selected');
      });
      quantity = 1; // Reset quantity when size changes
      document.getElementById('quantity').textContent = quantity;
    }

    document.querySelectorAll('.size-option').forEach(option => {
      option.addEventListener('click', () => {
        if (!option.classList.contains('unavailable')) {
          selectSize(option.textContent);
        }
      });
    });

    function openSizeGuide() {
      document.getElementById('sizeGuideModal').classList.add('show');
    }

    function closeSizeGuide() {
      document.getElementById('sizeGuideModal').classList.remove('show');
    }

    function changeQuantity(change) {
      if (!selectedSize) {
        alert('Por favor selecciona una talla.');
        return;
      }
      const maxQuantity = stock[`negro-${selectedSize}`] || 0; // Get stock for the selected size
      quantity = Math.max(1, Math.min(maxQuantity, quantity + change));
      document.getElementById('quantity').textContent = quantity;
    }

    function makeOrder() {
      if (!selectedSize) {
        alert('Por favor selecciona una talla.');
        return;
      }
      const message = `Hola Genesis ðŸ‘‹, deseo ordenar la camisa "El Origen de Todo", color negra, talla ${selectedSize}, cantidad ${quantity}. ðŸ”¥`;
      window.open(`https://wa.me/573176650424?text=${encodeURIComponent(message)}`);
    }

    function changeSlide(direction) {
      const slides = document.querySelectorAll('.slider img');
      slides[currentSlide].classList.remove('active');
      currentSlide = (currentSlide + direction + slides.length) % slides.length;
      slides[currentSlide].classList.add('active');
    }
  </script>
  <script src="menu.js"></script>
</body>
</html>
